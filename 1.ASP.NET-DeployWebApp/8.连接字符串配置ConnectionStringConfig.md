# 连接字符串配置ConnectionStringConfig
本篇记录了如何配置连接字符串

### 什么是连接字符串？
连接字符串ConnectionString是应用配置文件Web.config中的一个元素。这个元素的内容指定了应用程序所连接的数据库。

### 如何找到连接字符串？
连接字符串理论上在发布的时候就应该被正确配置，但发布后仍然可以修改，可以从两个地方修改：

1. 在发布的引用物理路径中，找到Web.config或App.condfig文件，打开即可找到连接字符串元素并修改
2. 在IIS中，点击要修改的应用，在右侧功能视图中双击"连接字符串"即可修改

### 如何配置连接字符串？
连接字符串是一个元素，即<connectionStrings>，在该元素中添加<add />元素就可添加连接，而连接详情在<add />元素中以属性的方式指定。<add />元素可配置的属性有很多，在连接ASP.NET中最常用的就三个属性，分别是：
  
* name属性，指定这条连接的名称，也一定得是唯一的名称
* connectionString属性，指定了多个字段，在ASP.NET中最常用的有：
    - Data Source字段，即数据库来源，可以是服务器实例名，也可以是IP地址
    - Database字段，即指明在服务器中要连接的数据库名称
    - User ID字段，即指定拥有进入数据库权限的用户名
    - Password字段，即密码
* provider属性，即指定数据库引擎的提供者，使用SQL Server就为System.Data.SqlClient
  
在连接字符串元素中添加一条完整的连接如下：

<connectionStrings>
    <add name="[Name]" connectionString="Data Source=[ServerIP],Database="[DatabaseName],User ID="[Account]",Password=[Oassword]"
        provider="System.Data.SqlClient" />
</connectionStrings>
                                        
### 按照以上设置，网页应用仍然无法连接上数据库是为什么？

为确保能够连接上数据库，连接字符串的三个基本属性必须满足以下几点：

1. <add />元素属性中必须至少要有name、connectionString、provider三项
2. name属性的值必须与应用领域模型ApplicationDbContext类中构造器声明的"nameOrConnectionString"值保持一致。如：

```
    public ApplicationDbContext()
        : base("DefaultConnection", throwIfV1Schema: false)
    {
        //这里声明nameOrConnectionString="DefaultConnection"，即连接字符串中name属性必须为name="DefaultConnection"
    }
```
   
3. 

        
        
